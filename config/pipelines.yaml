pipelines:
  fetch-diff-basic:
    description: "获取 Phabricator diff 的基础流程"
    steps:
      - name: fetch
        type: tool
        ref: fetch-diff
        input:
          revisionId: "{{context.revisionId}}"
          forceRefresh: "{{context.forceRefresh || false}}"

  fetch-commit-basic:
    description: "获取 Git 提交变更的基础流程"
    steps:
      - name: fetchCommit
        type: tool
        ref: fetch-commit-changes
        input:
          commitHash: "{{context.commitHash}}"
          repoPath: "{{context.repoPath || context.projectRoot || '.'}}"
